#  표본추출에서의 확률오차

## 표본추출 및 확률오차
* 표본을 이용한 연구에는 필연적으로 `확률오차`가 존재한다.    
✓ `모집단`을 다루는 것이 아닌 `표본크기`에 의거해서 결정되기 때문이다.
* 이를 식으로 표현하면 <span style = "color:red">(모집단 확률) = (표본의 확률) + (확률 오차)<span>

## 기댓값과 표준오차
* `단순무작위표본` 상에서 표본의 구성비는 그 **기댓값**이 **모집단**의 그것과 같다.
* 하지만 표본의 한계로 여전히 `확률 오차`는 발생하며, 이를 측정하기 위해 `표본비율의 표준오차`를 구함으로서 그 정도를 구한다.
* 구성비의 `표준오차`는 **<span style = "color:red">합의 표준오차/표존크기 * 100 (%)<span>**
> Example)    
> 남학생과 여학생의 모비율이 64% 임을 안다는 전제하에,    
> 100명의 표본을 무작위 추출했다면 남학생의 비율에 대한 표준오차는?    
> (단, 여기서 남학생은 전체 3020명, 여학생은 1718명이다.)    
> ==========    
> Answer)    
> 100명의 표본이 선발된 상자모형 속에서    
> 표준편차는 *sqrt(p(1-p)) = sqrt(0.64 * 0.36) = 0.48* 에 해당하며,    
> **제곱근의 법칙**에 따라 **표준오차**는 *sqrt(100) * 0.48 = __4.8__*에 해당한다.    
> 이를 표본비율로 변환하면 100명 중 64명이므로 **64%**, 100명 중 4.8명이므로 **4.8%**
* 식을 계산하면 **표본 크기가 커질수록** **구성비의 표준오차는 줄어든다**.
* 사실 `제곱근법칙`은 **복원추출** 표본에서만 성립하나, **비복원추출**에서도 그리 큰 차이는 없다.

## 정규분포곡선의 활용
* `중심극한정리`에 의거해서 표본비율의 **기댓값**과 **표준오차**도 `정규분포곡선`을 사용해 그 비율을 계산할 수 있다.
* 여기서 쓰이는 표본이 **치중**되었다 하더라도, **추출한 표본의 크기가 크**다면 정규분포곡선에 근사한다.     
  ✓ 만약 표본이 **균형있게 유지**되었다면, **적은 표본 수**라 하더라도 정규분포곡선을 사용해 구할 수 있다.
> Example)    
> 어떤 전화회사가 100만 명의 고객을 확보하고 있다는 전제 하에,    
> 이 회사 고객의 20%가 5천만원 이상의 소득을 벌어들인다고 한다.    
> 고객 중 400명을 무작위로 추출할 때, 표본 속에서 연간소득 5000만원 이상인 사람의 비율?    
> ==========    
> Answer)    
> **!! 이 문제는 '분류하고', '개수를 세는' 문제에 해당한다. !!**    
> 먼저, 400명의 표본을 추출했다는 가정 하에,    
> 이 표본 상자의 표준편차는 *sqrt(0.2 * 0.8) = __0.4__*
> 제곱근법칙에 의거해서 그 정도는 *sqrt(400) * 0.4  = 8*     
> 즉, 표본 중에서 5000만원 이상의 고소득자는 **80명 (400 * 0.2) +- 8명**의 범위     
> 표본비율은 *80/400 = 1/5 = 20% +- 8/400 = 1/50 = 2%* 범위에서 왔다갔다 한다.

> 여기서 *18%, 22%*를 정규화하면 ((18-20)/2, (22-20)/2)로 **-1, 1**이 되며    
> 이는 정규분포곡선의 68-95-99.7법칙에 따라 **-SE~SE는 68%의 범위** 안에 해당

* `0, 1 상자`를 사용할 수 있는 경우는 `더하기 및 평균 더하기`, `분류하고 개수 세기`, `비율 구하기` 만 사용 가능!

## 보정계수 
* 어떠한 표본의 비율을 추정할 때, 중요한 것은 `(충분히 큰) 표본의 크기`이다.    
  ✓  `모집단에 대비한 상대적 크기`는 특수한 경우를 제외하고 고려하지 않는다.
* 하지만 대부분의 여론조사가 **비복원추출**을 사용하는 경우에는 `보정계수`를 사용하긴 한다.
> **(비복원추출에서의 표본오차) = (보정계수) * (복원추출에서의 표준 오차)**    
> **(보정계수) = √(상자 안의 카드 수 – 뽑힌 카드 수)/(상자 안의 카드 수 – 1)**

## 현실에서의 표본비율과 표본오차 구하기
* 현실에서는 `모비율`을 알기가 쉽지가 않다 ▸ `표본비율`을 사용해 `모비율`을 유추한다
* `표본비율`을 이용해서 `모비율`을 유추하는 데에는 2가지 방법이 있다.
> 만약 어떤 건달이 10만명의 유권자 중에서 2500명의 유권자를 뽑은 다음 표본조사를 하면,    
> 여기서 나온 결과가 1328명이 이를 지지할 수 있음이 알려졌다.

⓵ **표본조사**에서 나온 **표본비율** 및 **표준오차**를 바탕으로 판단
* 표본조사 상으로는 53% 정도의 비율을 보이므로 이를 그대로 사용한다. (√(0.53*0.47)
* 이렇게 되면 **제곱근 법칙**에 따라 √2500 * 0.5 = 25명의 표준오차를 확인할 수 있다.
* 비율 상으로 convert하면 2500명의 1%이므로 이는 [53% +- 1%]의 비율을 보인다.
* 1%는 표준단위로 3단위의 차이므로 3%나 차이가 나는 건 매우 드문 경우에 해당한다.
* 표본크기가 **1000 이상 정도**이면 이 경우의 **정확도가 굉장히 높다**.

⓶ 0.5-0.5 형식으로 판단한다
* 확률표본이 정확하지 않을 때 가장 보수적으로 접근할 수 있는 표본확률은 50%이다 (0/1)

## 신뢰구간 책정하기
* `정규분포곡선`을 통해서 `표본비율` 및 `표본오차`를 구했을 때는 **68-95-99.7**에 따라서
    * **표본비율 +- 1SE**의 구간은 **68%**의 신뢰도를 가진 신뢰구간이다.
    * **표본비율 +- 2SE**의 구간은 **95%**의 신뢰도를 가진 신뢰구간이다.
    * **표본비율 +- 3SE**의 구간은 **99.7%**의 신뢰도를 가진 신뢰구간이다.
    
 