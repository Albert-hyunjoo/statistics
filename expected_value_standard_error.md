# 기대값과 표준오차

## 기대값 (Expected Value)
* `기대값`은 어떠한 불확실성 하의 확률과정 분포의 중심을 차지하는 값이다.
* 그 `기대값`과 차이가 나는 정도를 `확률오차`라고 하며, 그 `확률오차`의 평균은 `표준오차`이다.
* 기댒값은 통상적으로 `추출 횟수 * 어떠한 사건의 평균`을 통해 구한다.

## 표준오차 (Standard Error)
* 어떤 확률적 분포는 `기대값`과 `확률 오차`의 합인데, 그 전반적인 크기가 바로 `표준오차`이다.
* 어떤 확률의 `표준오차`는 `표준편차`에 `sqrt(추출 횟수)`를 곱하는 것이다.
> Q.     
> 어떤 상자에 *0, 2, 3, 4, 6*의 카드가 한 장씩 들어있는 경우, 그 상자에서 *25회 부작위 복원추출*시 표준편차는 무엇인가?    
> A.     
> 합의 기대값은 `25 * (1/5*0) * (1/5*2) * (1/5*3) * (1/5*4) * (1/5*6) = 75`   
> 여기서 각 상자의 평균은 3이므로, 그 차이는 `-3`, `-1`, `0`, `1`, `3`    
> **MSE 방식**으로 계산해서 **SD**를 구하게 된다 = `2`

* 하나의 관측치가 그 `기대값`으로부터 +2SE~3SE면 관측 가능성이 **희박하다**

## 정규분포곡선 이용하기
* 만약 어떠한 추출 횟수가 많은 경우 `정규분포곡선`을 이용해서 확률을 계산한다.
* 특정 범위 내에서 확률을 구하려면 `표준화`를 통해 이를 파악, 범위를 구한다.
* 어떤 사건이 95% 확률의 사건이다? = 실험을 반복해을 때 해당하는 결과는 0.95n번 시행

## 기댓값과 분산에 관련된 공식
> 1) E(c -- c는 상수) = c    
> 2) E(c*g(x,y)) = c * E(g(x,y))    
> 3) E[g(x,y) + h(x,y)] = E[g(x,y)] + E[h(x,y)]    
> 4) E[gx(X) * hy(Y)] = E[g_x(X)] * E[h_y(Y)]    

> 위의 정리에 입각해 유도한 또 다른 공식은 다음과 같다 :
> 1) E(X+Y) = E(X) + E(Y)
> 2) E(aX + b) = aE(X) + b
> 3) Var(X) = E(X-E(X))^2    
> = E(X^2 - 2XE(X) +  E^2(X))    
> = E(X^2) -  2E(X)*E(X) + E^2(X)    
> = E(X^2) - E^2(X)
> 4) Var(X+Y) = Var(X) + Var(Y) + 2Cov(X,Y)    
> = Var(X) + Var(Y) (단, X와 Y가 독립일 때)
> 5) Var(aX+b) = a^2Var(X)
> 6) E(XY) = E(X)*E(Y)

## 이항확률변수의 평균과 분산
> 어떤 `이항확률변수` X에 대해서    
     `평균`은 E(X+x1+x2...xn) = n*E(x1) = **np**   
        `분산`은 Var(X + x1 + x2.. xn)    
    = Var(x1) + Var(x2) ... (x는 독립사건)    
      = n*Var(x1) = **np(1-p)**    
> `확률오차 (SE)`는 sqrt(var(x)) = sqrt(n) * sqrt(p(1-p))

## 평균의 법칙 (대수의 법칙) 증명
만약 어떤 성공확률 p의 추정치를 *p_hat*이라고 할 때, 이는 **성공 횟수 X를 시행 횟수 n으로 나눈 값**에 해당한다.
> p_hat = X/n = 1/n * (x1 + x2... + xn)

이는 자동적으로 *p_hat*에 대해 다음과 같은 **기대치**와 **분산**을 갖는다.
> E(p_hat) = 1/n * E(X) = 1/n * np = p    
> Var(p_hat) = (1/n)^2 * Var(x) = 1/n^2 * np(1-p) = **1/n * p(1-p)**    
> SE(p_hat) = sqrt(Var(p_hat)) = **1/sqrt(n) * sqrt(p(1-p))**

시행횟수 n이 **늘어날 때**마다, **표준오차는 계속해서 줄어**들며 그 정도는 **시행 횟수의 제곱근**에 비례한다.